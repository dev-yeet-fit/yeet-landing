(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[762],{2358:function(e,n,r){"use strict";r.d(n,{a:function(){return i}});var t=r(3274);function i(e,n){return(0,t.r)(e,n,!1)}},5537:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/wishlist/[id]/receive",function(){return r(2064)}])},2438:function(e,n,r){"use strict";r.d(n,{Z:function(){return u}});var t=r(5666),i=r.n(t);function a(e,n,r,t,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void r(c)}u.done?n(s):Promise.resolve(s).then(t,i)}function o(e){return function(){var n=this,r=arguments;return new Promise((function(t,i){var o=e.apply(n,r);function u(e){a(o,t,i,u,s,"next",e)}function s(e){a(o,t,i,u,s,"throw",e)}u(void 0)}))}}function u(){var e=o(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(n);case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),n=o(i().mark((function e(){var n,r,t,a,o,u,s,c,d,l,f,p,v,h,m,x,g,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!1,r="",!(null===navigator||void 0===navigator?void 0:navigator.clipboard)){e.next=61;break}return t="",e.next=6,navigator.clipboard.read();case 6:a=e.sent,o=!0,u=!1,s=void 0,e.prev=8,c=a[Symbol.iterator]();case 10:if(o=(d=c.next()).done){e.next=45;break}l=d.value,f=!0,p=!1,v=void 0,e.prev=13,h=l.types[Symbol.iterator]();case 15:if(f=(m=h.next()).done){e.next=28;break}return x=m.value,e.next=19,l.getType(x);case 19:if(g=e.sent,"text/plain"!==x&&"text/uri-list"!==x){e.next=25;break}return e.next=23,g.text();case 23:y=e.sent,t=y;case 25:f=!0,e.next=15;break;case 28:e.next=34;break;case 30:e.prev=30,e.t0=e.catch(13),p=!0,v=e.t0;case 34:e.prev=34,e.prev=35,f||null==h.return||h.return();case 37:if(e.prev=37,!p){e.next=40;break}throw v;case 40:return e.finish(37);case 41:return e.finish(34);case 42:o=!0,e.next=10;break;case 45:e.next=51;break;case 47:e.prev=47,e.t1=e.catch(8),u=!0,s=e.t1;case 51:e.prev=51,e.prev=52,o||null==c.return||c.return();case 54:if(e.prev=54,!u){e.next=57;break}throw s;case 57:return e.finish(54);case 58:return e.finish(51);case 59:r=t,n=Boolean(t);case 61:if(!n){e.next=65;break}return e.abrupt("return",r);case 65:return e.abrupt("return","");case 66:case"end":return e.stop()}}),e,null,[[8,47,51,59],[13,30,34,42],[35,,37,41],[52,,54,58]])})));return{copyText:e,canUseClipboard:function(){try{return"function"===typeof navigator.clipboard.readText}catch(e){return!1}},permitClipboardRead:o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.permissions.query({name:"clipboard-read"});case 2:e.sent.onchange=function(){};case 4:case"end":return e.stop()}}),e)}))),readCopiedText:n}}},557:function(e,n,r){"use strict";r.d(n,{Z:function(){return u}});var t=r(256);function i(){var e,n,r=(e=["\n    mutation CreateUser($id: String!, $name: String!, $birthDate: DateTime!) {\n        createUser(id: $id, name: $name, birthDate: $birthDate) {\n            id\n            name\n            birthDate\n            wishList {\n                id\n                wishes {\n                    id\n                    name\n                    url\n                    like {\n                        id\n                        liker {\n                            id\n                            name\n                        }\n                        createdAt\n                    }\n                }\n            }\n        } \n    }\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return i=function(){return r},r}var a=(0,r(7241).ZP)(i());function o(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=[],t=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(t=(o=u.next()).done)&&(r.push(o.value),!n||r.length!==n);t=!0);}catch(s){i=!0,a=s}finally{try{t||null==u.return||u.return()}finally{if(i)throw a}}return r}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function u(){var e=o((0,t.D)(a),2);return{createUser:e[0],loading:e[1].loading}}},493:function(e,n,r){"use strict";r.d(n,{Z:function(){return u}});var t=r(256);function i(){var e,n,r=(e=["\n    mutation CreateWish($userId: String!, $name: String!, $url: String, $thumbnail: String, $price: String) {\n        createWish(userId: $userId, name: $name, url: $url, thumbnail: $thumbnail, price: $price) {\n            id\n            name\n            url\n            wishList {\n                id\n                wishes {\n                    id\n                    name\n                    url\n                    like {\n                        id \n                        liker {\n                            id\n                            name\n                            createdAt\n                        }\n                    }\n                }\n            }\n            like {\n                id\n                createdAt\n                liker {\n                    id\n                    name\n                }\n            }\n        }\n    }\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return i=function(){return r},r}var a=(0,r(7241).ZP)(i());function o(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=[],t=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(t=(o=u.next()).done)&&(r.push(o.value),!n||r.length!==n);t=!0);}catch(s){i=!0,a=s}finally{try{t||null==u.return||u.return()}finally{if(i)throw a}}return r}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function u(){var e=o((0,t.D)(a,{}),2),n=e[0],r=e[1];return{createWish:n,loading:r.loading,error:r.error}}},5743:function(e,n,r){"use strict";r.d(n,{Z:function(){return o}});var t=r(2358);function i(){var e,n,r=(e=["\n    query SampleWishes {\n        sampleWishes {\n            id\n            url\n            thumbnail\n            name\n            price\n        }\n    }\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return i=function(){return r},r}var a=(0,r(7241).ZP)(i());function o(){var e=(0,t.a)(a),n=e.data,r=e.error,i=e.loading;return{sampleWishes:null===n||void 0===n?void 0:n.sampleWishes,error:r,loading:i}}},6327:function(e,n,r){"use strict";r.d(n,{Z:function(){return o}});var t=r(5666),i=r.n(t);function a(e,n,r,t,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void r(c)}u.done?n(s):Promise.resolve(s).then(t,i)}function o(e){var n;return{share:(n=i().mark((function n(r){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,window.navigator.share({title:r.title,text:r.title,url:r.url,files:[]});case 3:e.onShared(),n.next=10;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0),e.onFail();case 10:case"end":return n.stop()}}),n,null,[[0,6]])})),function(){var e=this,r=arguments;return new Promise((function(t,i){var o=n.apply(e,r);function u(e){a(o,t,i,u,s,"next",e)}function s(e){a(o,t,i,u,s,"throw",e)}u(void 0)}))})}}},2064:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return O}});var t=r(5666),i=r.n(t),a=r(5893),o=r(9300),u=r(1163),s=r(9679),c=r(375),d=r(8961),l=r(7948),f=r(6447),p=r(9226),v=r(8022),h=r(3793),m=r(6327),x=r(9874),g=r(7294),y=r(2698),b=r(1164),w=r(557),j=r(256);function Z(){var e,n,r=(e=["\n    mutation CreateWishList($userId: String!, $name: String, $myUrl: String, $shareUrl: String) {\n        createWishList(userId: $userId, name: $name, myUrl: $myUrl, shareUrl: $shareUrl) {\n            id\n            name\n            myUrl\n            shareUrl\n            currentViewer\n            wishes {\n                id\n                name\n                url\n                thumbnail\n                like {\n                    id\n                    liker {\n                        id\n                        name\n                        createdAt\n                    }\n                }\n            }\n            createdAt\n            updatedAt\n        }\n    }\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return Z=function(){return r},r}var k=(0,r(7241).ZP)(Z());function S(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=[],t=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(t=(o=u.next()).done)&&(r.push(o.value),!n||r.length!==n);t=!0);}catch(s){i=!0,a=s}finally{try{t||null==u.return||u.return()}finally{if(i)throw a}}return r}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var $=r(5934),C=r(5743),_=r(7312),E=r(493),U=r(3526),A=r(9008),I=r(2438),P=r(1951);function W(e,n,r,t,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void r(c)}u.done?n(s):Promise.resolve(s).then(t,i)}function T(e){return function(){var n=this,r=arguments;return new Promise((function(t,i){var a=e.apply(n,r);function o(e){W(a,t,i,o,u,"next",e)}function u(e){W(a,t,i,o,u,"throw",e)}o(void 0)}))}}var R=(0,x.Z)({fixedBottom:{position:"fixed",bottom:"0px",padding:"16px",width:"calc(100vw)",maxWidth:"600px"},birthBox:{display:"flex",justifyContent:"center",alignItems:"center",padding:"8px 12px",border:"solid 1px #F0F0F0",borderRadius:"10px",color:"#838387"},emoji:{width:"22px",height:"22px"},chip:{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(94, 110, 255, 0.1)",borderRadius:"6px",color:b.iZ,padding:"6px 12px",fontSize:"12px!important",fontWeight:"bold",letterSpacing:"0.005em"}});function O(){var e,n,r,t=R(),x=(0,u.useRouter)(),Z=(0,d.Z)(),W=(Z.user,Z.dispatch),O=(0,U.Z)(),D=O.amplitudeEvent,L=O.dispatch,z=(0,w.Z)(),B=z.createUser,N=(z.loading,function(){var e=S((0,j.D)(k),2);return{createWishList:e[0],loading:e[1].loading}}()),q=N.createWishList,F=(N.loading,(0,s.Z)({id:null===x||void 0===x||null===(e=x.query)||void 0===e?void 0:e.id})),V=F.wishlist,M=(F.loading,F.error,F.getWishList),H=!Boolean(null===V||void 0===V||null===(n=V.wishes)||void 0===n?void 0:n.length),X=(0,y.ZP)().instance,G=(0,E.Z)(),J=G.createWish,K=G.loading,Q=(0,C.Z)(),Y=Q.sampleWishes,ee=Q.loading,ne=(0,I.Z)().copyText,re=(0,P.Z)(),te=re.showMessage,ie=re.Snack,ae=(0,m.Z)({onShared:function(){console.log("shared!")},onFail:function(){ne("https://yeet.fit/friend?redirect=/wishlist/".concat(null===V||void 0===V?void 0:V.id,"/give")),te("\ub9c1\ud06c\uac00 \ubcf5\uc0ac\ub418\uc5c8\uc5b4\uc694!")}}).share;(0,g.useEffect)((function(){var e;V||M({variables:{id:null===x||void 0===x||null===(e=x.query)||void 0===e?void 0:e.id}})}),[V]);var oe=T(i().mark((function e(){var n,r,t,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x.query.id&&"false"!==x.query.id){e.next=10;break}return e.next=4,B({variables:{id:(0,$.Z)(),name:"",birthDate:new Date}});case 4:return t=e.sent,e.next=7,q({variables:{userId:null===t||void 0===t||null===(n=t.data)||void 0===n||null===(r=n.createUser)||void 0===r?void 0:r.id,myUrl:(0,$.Z)(),shareUrl:(0,$.Z)(),name:"Happy Birthday"}});case 7:a=e.sent,W({type:"setId",payload:{id:t.data.createUser.id}}),x.replace("/wishlist/".concat(a.data.createWishList.id,"/receive"));case 10:case"end":return e.stop()}}),e)})));(0,g.useEffect)((function(){W({type:"setAddWish",payload:{wish:{name:"",openProductName:!1,price:"",thumbnail:"",url:""}}}),x.isReady&&oe()}),[x.isReady]);var ue=T(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!K){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,J({variables:{userId:V.user.id,name:n.name,url:n.url,price:n.price,thumbnail:n.thumbnail}});case 4:e.sent,window.scrollTo({top:0});case 6:case"end":return e.stop()}}),e)}))),se=T(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return X.logEvent("wl_share_touch",{item_count:null===V||void 0===V?void 0:V.wishes.length}),e.next=3,ae({title:"\uc0dd\uc77c \uc120\ubb3c \uc704\uc2dc\ub9ac\uc2a4\ud2b8\uac00 \ub3c4\ucc29\ud588\uc5b4\uc694. \uc8fc\uace0 \uc2f6\uc740 \uc120\ubb3c\uc744 \ucc1c \ud574\uc11c \ub9c8\uc74c\uc744 \ud45c\ud604\ud574 \ubcf4\uc138\uc694 \u2764",url:"https://yeet.fit/friend?redirect=/wishlist/".concat(null===V||void 0===V?void 0:V.id,"/give")});case 3:(null===D||void 0===D?void 0:D.first_add)&&(L({type:"setFirstAdd",payload:{value:!1}}),x.push("/wishlist/".concat(null===x||void 0===x||null===(n=x.query)||void 0===n?void 0:n.id,"/receive/myUrl")));case 4:case"end":return e.stop()}}),e)})));(0,g.useEffect)((function(){X.logEvent("wl_view",{is_mine:!0})}),[]);var ce={text:"Happy birthday~"};return(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(A.default,{children:(0,a.jsx)("meta",{property:"og:image",content:"".concat(b.RI,"opengraph_wishlist.png")})}),(0,a.jsx)(l.Z,{sx:{background:"linear-gradient(180deg, rgba(94, 110, 255, 0.1) 0%, rgba(94, 110, 255, 0) 100%)"},children:(0,a.jsxs)(f.Z,{spacing:7,paddingBottom:12,children:[(0,a.jsxs)(f.Z,{spacing:5,paddingTop:"66px",children:[(0,a.jsxs)(f.Z,{justifyContent:"space-between",spacing:.5,children:[(0,a.jsxs)(f.Z,{direction:"row",spacing:.5,justifyContent:"flex-start",alignItems:"center",children:[ce.emoji&&(0,a.jsx)("img",{className:t.emoji,src:"".concat(b.RI).concat(ce.emoji)}),(0,a.jsx)(c.Z,{variants:"Body1",color:b.iZ,children:ce.text})]}),(0,a.jsx)(c.Z,{variants:"Title2",children:"\uc0dd\uc77c \uc120\ubb3c \uc704\uc2dc\ub9ac\uc2a4\ud2b8 \ud83c\udf89"})]}),(0,a.jsx)(h.Z,{onClickAdd:function(){X.logEvent("wl_add_item_touch")},wishListId:null===x||void 0===x||null===(r=x.query)||void 0===r?void 0:r.id,viewer:"RECEIVER"})]}),(0,a.jsx)(f.Z,{spacing:2.5,children:ee||!Y||(null===V||void 0===V?void 0:V.wishes)&&(null===V||void 0===V?void 0:V.wishes.length)>0?(0,a.jsx)(a.Fragment,{}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(f.Z,{spacing:1.25,paddingLeft:1,children:[(0,a.jsx)(p.Z,{width:"114px",className:t.chip,children:"\uc5ec\uae30\uc11c \uace8\ub77c \ubcf4\uc138\uc694"}),(0,a.jsxs)(c.Z,{variants:"Title2",children:["\uac01 \uc1fc\ud551\ubab0 MD\ub4e4\uc774 \uc120\ud0dd\ud55c,",(0,a.jsx)("br",{}),"\uc2e4\ud328 \uc5c6\ub294 \uc0dd\uc77c \uc120\ubb3c \ud0d1 10 \u2728"]})]}),(0,a.jsx)(f.Z,{paddingBottom:8,spacing:1.25,children:Y.map((function(e){return(0,a.jsx)(_.Z,{onClickAdd:ue,thumbnail:e.thumbnail,viewer:"SAMPLE",wish:{name:e.name,price:e.price,url:e.url,id:"",createdAt:"",updatedAt:""}},e.id)}))})]})})]})}),!H&&(0,a.jsx)("div",{className:t.fixedBottom,children:(0,a.jsx)(v.Z,{fullWidth:!0,onClick:se,children:"\uce5c\uad6c\ud55c\ud14c \uc54c\ub824\uc8fc\uae30"})}),(0,a.jsx)(ie,{duration:2e3})]})}},5934:function(e,n,r){"use strict";var t;r.d(n,{Z:function(){return l}});var i=new Uint8Array(16);function a(){if(!t&&!(t="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t(i)}var o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var u=function(e){return"string"===typeof e&&o.test(e)},s=[],c=0;c<256;++c)s.push((c+256).toString(16).substr(1));var d=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(s[e[n+0]]+s[e[n+1]]+s[e[n+2]]+s[e[n+3]]+"-"+s[e[n+4]]+s[e[n+5]]+"-"+s[e[n+6]]+s[e[n+7]]+"-"+s[e[n+8]]+s[e[n+9]]+"-"+s[e[n+10]]+s[e[n+11]]+s[e[n+12]]+s[e[n+13]]+s[e[n+14]]+s[e[n+15]]).toLowerCase();if(!u(r))throw TypeError("Stringified UUID is invalid");return r};var l=function(e,n,r){var t=(e=e||{}).random||(e.rng||a)();if(t[6]=15&t[6]|64,t[8]=63&t[8]|128,n){r=r||0;for(var i=0;i<16;++i)n[r+i]=t[i];return n}return d(t)}}},function(e){e.O(0,[296,444,872,285,338,315,735,976,774,888,179],(function(){return n=5537,e(e.s=n);var n}));var n=e.O();_N_E=n}]);